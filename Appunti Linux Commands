 Comandi Base per Debian 12.11.0

üóÇ Gestione File e Directory
Comando	                     Descrizione
ls	                          Elenca file e directory
ls -l	                       Elenca in formato lungo (permessi, proprietario, dimensione)
cd <directory>	              Cambia directory
pwd	                         Mostra la directory corrente
mkdir <nome_dir>	            Crea una directory
rm <file>	                   Elimina un file
rm -r <directory>           	Elimina una directory ricorsivamente
cp <origine> <destinazione>	 Copia file/directory
mv <origine> <destinazione>	 Sposta o rinomina file/directory
cat <file>	                  Mostra il contenuto di un file
nano <file>	                 Modifica un file con Nano (editor di testo semplice)
chmod +x <file>	             Rende un file eseguibile

üì¶ Gestione Pacchetti (APT)
Comando	                     Descrizione
sudo apt update	             Aggiorna la lista dei pacchetti disponibili
sudo apt upgrade	            Installa aggiornamenti dei pacchetti
sudo apt install <pacchetto>	Installa un pacchetto
sudo apt remove <pacchetto>	 Disinstalla un pacchetto
sudo apt autoremove	         Rimuove pacchetti non pi√π necessari
sudo apt search <termine>	   Cerca un pacchetto
sudo apt list --installed	   Elenca i pacchetti installati

üñ• Gestione Sistema
Comando	                     Descrizione
sudo reboot	                 Riavvia il sistema
sudo shutdown -h now	        Spegne il sistema immediatamente
top / htop	                  Monitora processi e risorse
df -h	                       Mostra spazio su disco
free -h	                     Mostra utilizzo RAM
uname -a	                    Mostra informazioni sul kernel
ip a	                        Mostra indirizzi IP e interfacce di rete
systemctl status <servizio>	 Controlla lo stato di un servizio

üë§ Utenti e Permessi
Comando	                              Descrizione
sudo su	                              Passa a root (superutente)
whoami	                               Mostra l'utente corrente
passwd	                               Cambia password dell'utente corrente
sudo useradd <nome_utente>	           Aggiunge un nuovo utente
sudo usermod -aG sudo <nome_utente>	  Aggiunge un utente al gruppo sudo

üîå Spegnimento Graceful della VM Linux
Per spegnere correttamente una macchina virtuale Linux (senza rischiare corruzione dei dati), usa uno di questi comandi:

1. Comando shutdown (preferito)
bash
sudo shutdown -h now  # Spegne immediatamente
Oppure con un ritardo (es. 5 minuti):

bash
sudo shutdown -h +5  # Spegne dopo 5 minuti
2. Comando poweroff
bash
sudo poweroff  # Spegne direttamente
3. Comando init (metodo legacy)
bash
sudo init 0  # Spegne il sistema (equivalente a `poweroff`)
4. Da VirtualBox (se il sistema √® bloccato)
Se la VM non risponde, puoi:

Salvare lo stato (menu Macchina > Salva stato)

Spegnere forzatamente (menu Macchina > Arresta)

üîπ Extra: Comandi utili per VM
Verifica se sei in una VM:

bash
sudo dmidecode -s system-product-name
(Dovresti vedere VirtualBox, VMware, o QEMU se sei in una VM).

Installa gli strumenti della VM (se necessario):

bash
sudo apt install virtualbox-guest-utils virtualbox-guest-dkms

Ecco una lista dei comandi pi√π utilizzati per gestire utenti, gruppi e permessi in Linux:

üìå GESTIONE UTENTI

Comando	 Descrizione	                                       Esempio
useradd	 Crea un nuovo utente (senza home di default)	      sudo useradd -m nome_utente
adduser	 Crea un utente in modo interattivo (Debian/Ubuntu)	sudo adduser nome_utente
passwd	  Cambia la password di un utente	                   sudo passwd nome_utente
usermod	 Modifica un utente esistente	                      sudo usermod -aG sudo nome_utente
userdel	 Elimina un utente	                                 sudo userdel -r nome_utente (-r cancella la home)
id	      Mostra UID, GID e gruppi di un utente	             id nome_utente
who / w	 Mostra gli utenti attualmente connessi	            who
last	    Visualizza la cronologia degli accessi	            last

üìå GESTIONE GRUPPI

Comando	  Descrizione	                          Esempio
groupadd	Crea un nuovo gruppo	                  sudo groupadd nome_gruppo
groupdel	Elimina un gruppo	                     sudo groupdel nome_gruppo
usermod -aG	Aggiunge un utente a un gruppo	     sudo usermod -aG sudo nome_utente
gpasswd	Gestisce i membri di un gruppo	         sudo gpasswd -a nome_utente nome_gruppo
groups	Mostra i gruppi di un utente	            groups nome_utente
getent group	Elenca tutti i gruppi del sistema	 getent group

üìå VISUALIZZAZIONE E MODIFICA DEI PERMESSI

Comando	 Descrizione	                                          Esempio
chown	   Cambia il proprietario di un file/directory	          sudo chown nome_utente:gruppo file.txt
chgrp	   Cambia il gruppo di un file/directory	                sudo chgrp gruppo file.txt
chmod	   Cambia i permessi (lettura, scrittura, esecuzione)	   chmod 755 script.sh
ls -l	   Mostra proprietario, gruppo e permessi	               ls -l /home/

üìå FILE IMPORTANTI

File	          Descrizione
/etc/passwd	   Contiene gli utenti del sistema
/etc/shadow	   Memorizza le password cifrate
/etc/group	    Elenca tutti i gruppi
/etc/sudoers	  Definisce chi pu√≤ usare sudo

üìù Esempi Pratici

Creare un utente e dargli i permessi sudo

bash
sudo adduser mario
sudo usermod -aG sudo mario
Aggiungere un utente a un gruppo esistente

bash
sudo usermod -aG developers mario
Cambiare il proprietario di una cartella

bash
sudo chown mario:developers /var/www/
Eliminare un utente e la sua home

bash
sudo userdel -r mario

üîê Best Practices

‚úî Usa adduser su Debian/Ubuntu (pi√π semplice).
‚úî Usa -aG con usermod per evitare di rimuovere altri gruppi.
‚úî Non modificare manualmente /etc/passwd o /etc/shadow (usa i comandi ufficiali).
‚úî Verifica sempre con id e groups prima di assegnare permessi.
